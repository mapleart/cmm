<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookie Consent - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–π –º–æ–¥—É–ª—å</title>

    <script src="src/index.js" type="module"></script>


    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background: #f5f5f5;
        }
        
        .header {
            text-align: center;
            padding: 40px 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 12px;
            margin-bottom: 30px;
        }
        
        .card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        .demo-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .config-example {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
        }
        
        .control-button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 8px;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .control-button:hover {
            background: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }
        
        .control-button.secondary {
            background: #2196F3;
        }
        
        .control-button.secondary:hover {
            background: #1976D2;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
        }
        
        .control-button.danger {
            background: #f44336;
        }
        
        .control-button.danger:hover {
            background: #d32f2f;
            box-shadow: 0 4px 12px rgba(244, 67, 54, 0.3);
        }
        
        .status-panel {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .console-output {
            background: #1e1e1e;
            color: #f8f8f2;
            border-radius: 8px;
            padding: 20px;
            font-family: 'Fira Code', 'Consolas', monospace;
            max-height: 300px;
            overflow-y: auto;
            margin: 15px 0;
            border: 1px solid #333;
        }
        
        .log-entry {
            margin: 3px 0;
            padding: 2px 0;
        }
        
        .log-info { color: #66d9ef; }
        .log-warn { color: #f4bf75; }
        .log-error { color: #f92672; }
        .log-success { color: #a6e22e; }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-card {
            background: #f8f9fa;
            border-left: 4px solid #007cba;
            padding: 20px;
            border-radius: 8px;
        }
        
        .feature-card h3 {
            margin-top: 0;
            color: #007cba;
        }
        
        .position-demo {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 15px 0;
        }
        
        .position-btn {
            padding: 8px 16px;
            border: 1px solid #007cba;
            background: white;
            color: #007cba;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .position-btn:hover {
            background: #007cba;
            color: white;
        }
        
        .position-btn.active {
            background: #007cba;
            color: white;
        }
        
        @media (max-width: 768px) {
            .demo-grid {
                grid-template-columns: 1fr;
            }
            
            .control-button {
                width: 100%;
                margin: 5px 0;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üç™ Cookie Consent Configurable</h1>
        <p>–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏</p>
        <p><strong>–í–µ—Ä—Å–∏—è:</strong> 2.0.0 | <strong>–ù–æ–≤–∏–Ω–∫–∞:</strong> –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥</p>
    </div>

    <div class="card">
        <h2>üîß –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–æ–≤–æ–≥–æ –º–æ–¥—É–ª—è</h2>
        <div class="feature-grid">
            <div class="feature-card">
                <h3>üìù –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤</h3>
                <p>–í—Å–µ —Ç–µ–∫—Å—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥</p>
            </div>
            <div class="feature-card">
                <h3>üîó –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–ª–∏—Ç–∏–∫—É</h3>
                <p>–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–ª–∏—Ç–∏–∫—É –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</p>
            </div>
            <div class="feature-card">
                <h3>üéØ –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
                <p>3 –≤–∞—Ä–∏–∞–Ω—Ç–∞ –ø–æ–∑–∏—Ü–∏–∏: —Å–ª–µ–≤–∞, —Å–ø—Ä–∞–≤–∞, –ø–æ —Ü–µ–Ω—Ç—Ä—É</p>
            </div>
            <div class="feature-card">
                <h3>üé® CSS –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</h3>
                <p>BEM –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è + –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥</p>
            </div>
            <div class="feature-card">
                <h3>üéõÔ∏è –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –∫–Ω–æ–ø–∫–∏</h3>
                <p>–ó–∞–º–µ–Ω–∞ CSS –∫–ª–∞—Å—Å–æ–≤ –∫–Ω–æ–ø–æ–∫ –Ω–∞ —Å–≤–æ–∏. –ê–∫—Ü–µ–Ω—Ç–Ω—ã–µ –∏ –æ–±—ã—á–Ω—ã–µ —Å—Ç–∏–ª–∏</p>
            </div>
            <div class="feature-card">
                <h3>üéØ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ</h3>
                <p>–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤, —Ä–∞–∑–º–µ—Ä–æ–≤ –∏ –æ—Ç—Å—Ç—É–ø–æ–≤ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é</p>
            </div>
            <div class="feature-card">
                <h3>‚ö° –ü—Ä–æ—Å—Ç–æ–π —Ä–µ–∂–∏–º</h3>
                <p>–ë–∞–Ω–Ω–µ—Ä –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫, –≤—Å–µ cookie —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ä–∞–∑—É</p>
            </div>
            <div class="feature-card">
                <h3>üîÑ –ö–æ–ª–±—ç–∫–∏</h3>
                <p>–°–æ–±—ã—Ç–∏—è –¥–ª—è –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</p>
            </div>
        </div>
    </div>

    <div class="demo-grid">
        <div class="card">
            <h2>üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h2>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px;">
                <button class="control-button" onclick="showBasicPanel()">–ë–∞–∑–æ–≤–∞—è –ø–∞–Ω–µ–ª—å</button>
                <button class="control-button" onclick="showCustomPanel()">–ö–∞—Å—Ç–æ–º–Ω–∞—è –ø–∞–Ω–µ–ª—å</button>
                <button class="control-button" onclick="showSimpleMode()">–ü—Ä–æ—Å—Ç–æ–π —Ä–µ–∂–∏–º</button>
                <button class="control-button secondary" onclick="showCustomStyles()">–ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏</button>
                <button class="control-button danger" onclick="resetConsent()">–°–±—Ä–æ—Å–∏—Ç—å</button>
            </div>

            <h3>üìç –ü–æ–∑–∏—Ü–∏—è –ø–∞–Ω–µ–ª–∏</h3>
            <div class="position-demo">
                <button class="position-btn active" onclick="changePosition('bottom-left')">–°–ª–µ–≤–∞</button>
                <button class="position-btn" onclick="changePosition('bottom-right')">–°–ø—Ä–∞–≤–∞</button>
                <button class="position-btn" onclick="changePosition('bottom-center')">–ü–æ —Ü–µ–Ω—Ç—Ä—É</button>
            </div>

            <div class="status-panel">
                <h3>üìä –°—Ç–∞—Ç—É—Å</h3>
                <div id="statusInfo">
                    <p><strong>–ú–æ–¥—É–ª—å:</strong> <span id="moduleStatus">‚è≥</span></p>
                    <p><strong>–°–æ–≥–ª–∞—Å–∏–µ:</strong> <span id="consentStatus">‚è≥</span></p>
                    <p><strong>–ü–æ–∑–∏—Ü–∏—è:</strong> <span id="positionStatus">bottom-left</span></p>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>üìÑ –õ–æ–≥–∏ —Å–æ–±—ã—Ç–∏–π</h2>
            <div id="consoleOutput" class="console-output">
                <div class="log-entry log-info">[–°–∏—Å—Ç–µ–º–∞] –û–∂–∏–¥–∞–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏...</div>
            </div>
            <button class="control-button secondary" onclick="clearLogs()">–û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏</button>
        </div>
    </div>

    <div class="card">
        <h2>‚öôÔ∏è –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</h2>
        
        <h3>1. –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</h3>
        <div class="config-example">
// –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
const basicConfig = {
    debug: true,
    texts: {
        policyUrl: '/privacy'
    }
};

const cookieConsent = createCookieConsent(basicConfig);
        </div>

        <h3>2. –ü–æ–ª–Ω–∞—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è</h3>
        <div class="config-example">
// –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Å–µ—Ö —Ç–µ–∫—Å—Ç–æ–≤ –∏ –∫–Ω–æ–ø–æ–∫
const customConfig = {
    position: 'bottom-right',
    ui: {
        buttonClasses: {
            primary: 'iq-cookie-consent__button iq-cookie-consent__button--primary',   // –ê–∫—Ü–µ–Ω—Ç–Ω—ã–µ
            secondary: 'iq-cookie-consent__button iq-cookie-consent__button--secondary' // –û–±—ã—á–Ω—ã–µ
        }
    },
    texts: {
        title: 'üç™ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Cookie',
        description: '–≠—Ç–æ—Ç —Å–∞–π—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç cookie –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –≤–∞—à–µ–≥–æ –æ–ø—ã—Ç–∞. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ {policyLink}',
        policyLinkText: '–Ω–∞—à–µ–π –ø–æ–ª–∏—Ç–∏–∫–µ',
        policyUrl: '/policy',
        settingsTitle: '‚öôÔ∏è –î–µ—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏',
        buttons: {
            allowAll: '‚úÖ –ü—Ä–∏–Ω—è—Ç—å –≤—Å–µ',
            allowSelected: 'üéØ –ü—Ä–∏–Ω—è—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ',
            allowNecessary: 'üîí –¢–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ',
            settings: '‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏'
        }
    },
    callbacks: {
        onAccept: (consent) => console.log('–ü—Ä–∏–Ω—è—Ç–æ:', consent),
        onReject: (consent) => console.log('–û—Ç–∫–ª–æ–Ω–µ–Ω–æ:', consent)
    }
};
        </div>

        <h3>3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö CSS –∫–ª–∞—Å—Å–æ–≤</h3>
        <div class="config-example">
// –ó–∞–º–µ–Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –∫–Ω–æ–ø–æ–∫ –Ω–∞ —Å–≤–æ–∏
const customButtonsConfig = {
    ui: {
        buttonClasses: {
            primary: 'ui-btn btn-primary',     // –í–∞—à–∏ –∞–∫—Ü–µ–Ω—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
            secondary: 'ui-btn btn-outline'    // –í–∞—à–∏ –æ–±—ã—á–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
        }
    },
    texts: {
        title: 'Cookie Settings',
        description: 'We use cookies. Read more in {policyLink}.',
        policyLinkText: 'Privacy Policy',
        policyUrl: '/privacy'
    }
};

// –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ data-action, –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç CSS –∫–ª–∞—Å—Å–æ–≤
        </div>

        <h3>4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö</h3>
        <div class="config-example">
// –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤ –∏ —Ä–∞–∑–º–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
const customStyleConfig = {
    style: {
        primary: '#ff6b35',          // –û—Ä–∞–Ω–∂–µ–≤—ã–π –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç
        primaryHover: '#e55a2b',     // –¢–µ–º–Ω–µ–µ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
        background: '#f8f9fa',       // –°–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π —Ñ–æ–Ω –ø–∞–Ω–µ–ª–∏
        text: '#2c3e50',            // –¢–µ–º–Ω–æ-—Å–∏–Ω–∏–π —Ç–µ–∫—Å—Ç
        textSecondary: '#6c757d',    // –°–µ—Ä—ã–π –≤—Ç–æ—Ä–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç
        border: '#dee2e6',          // –°–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã
        surface: '#e9ecef',         // –°–µ—Ä—ã–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏
        radius: '12px',             // –ë–æ–ª–µ–µ –æ–∫—Ä—É–≥–ª—ã–µ —É–≥–ª—ã
        spacing: '24px'             // –ë–æ–ª—å—à–µ –æ—Ç—Å—Ç—É–ø—ã
    },
    texts: {
        title: 'üé® Custom Colors',
        description: 'Example with custom CSS variables via config.'
    }
};

// CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
        </div>

        <h3>5. –ü—Ä–æ—Å—Ç–æ–π —Ä–µ–∂–∏–º (–±–∞–Ω–Ω–µ—Ä –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫)</h3>
        <div class="config-example">
// –ü—Ä–æ—Å—Ç–æ–π –±–∞–Ω–Ω–µ—Ä - –≤—Å–µ cookie —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ä–∞–∑—É
const simpleConfig = {
    mode: 'simple',
    texts: {
        title: 'üç™ Cookie',
        simpleDescription: '–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º cookie –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è —Å–∞–π—Ç–∞. –ù–∞–∂–∏–º–∞—è "–ü—Ä–∏–Ω—è—Ç—å", –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å {policyLink}.',
        policyUrl: '/privacy',
        buttons: {
            accept: '–ü—Ä–∏–Ω—è—Ç—å'
        }
    }
};

// –í HTML –ø–æ–¥–∫–ª—é—á–∞–π—Ç–µ —Å—á–µ—Ç—á–∏–∫–∏ –∫–∞–∫ –æ–±—ã—á–Ω–æ:
// &lt;script&gt;(function(m,e,t,r,i,k,a){...}&lt;/script&gt; - –Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫–∞
// &lt;script&gt;var _tmr = window._tmr || [];&lt;/script&gt; - Top.Mail.Ru
        </div>
    </div>

    <div class="card">
        <h2>üîå API –º–µ—Ç–æ–¥—ã</h2>
        <div class="config-example">
// –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
const consent = createCookieConsent(config);

// –ú–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
consent.show();              // –ü–æ–∫–∞–∑–∞—Ç—å –ø–∞–Ω–µ–ª—å
consent.hide();              // –°–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å
consent.reset();             // –°–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
consent.destroy();           // –£–Ω–∏—á—Ç–æ–∂–∏—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä

// –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
const consentData = consent.getConsent();
console.log(consentData);

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
consent.updateConfig({
    position: 'bottom-center',
    texts: { title: '–ù–æ–≤—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫' }
});

// –ö–æ–ª–±—ç–∫–∏
config.callbacks = {
    onShow: () => console.log('–ü–∞–Ω–µ–ª—å –ø–æ–∫–∞–∑–∞–Ω–∞'),
    onHide: () => console.log('–ü–∞–Ω–µ–ª—å —Å–∫—Ä—ã—Ç–∞'),
    onAccept: (data) => console.log('–°–æ–≥–ª–∞—Å–∏–µ –¥–∞–Ω–æ:', data),
    onReject: (data) => console.log('–°–æ–≥–ª–∞—Å–∏–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ:', data),
    onChange: (data) => console.log('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑–º–µ–Ω–µ–Ω—ã:', data)
};
        </div>
    </div>


    <script>
        let currentConsent = null;
        let logs = [];
        
        // –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
        const baseConfig = {
            debug: true,
            position: 'bottom-left',
            texts: {
                policyUrl: '/privacy-policy'
            },
            callbacks: {
                onShow: () => addLog('üîÑ –ü–∞–Ω–µ–ª—å –ø–æ–∫–∞–∑–∞–Ω–∞', 'info'),
                onHide: () => addLog('üîÑ –ü–∞–Ω–µ–ª—å —Å–∫—Ä—ã—Ç–∞', 'info'),
                onAccept: (data) => addLog('‚úÖ –°–æ–≥–ª–∞—Å–∏–µ –ø—Ä–∏–Ω—è—Ç–æ: ' + JSON.stringify(data.cookies.map(c => c.name + ':' + c.enabled)), 'success'),
                onReject: (data) => addLog('‚ùå –°–æ–≥–ª–∞—Å–∏–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ', 'warn'),
                onChange: (data) => addLog('üîÑ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑–º–µ–Ω–µ–Ω—ã', 'info'),
                onSettingsShow: () => addLog('‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–∫—Ä—ã—Ç—ã', 'info'),
                onSettingsHide: () => addLog('‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–∫—Ä—ã—Ç—ã', 'info')
            }
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            showBasicPanel();
            
            setTimeout(() => {
                updateStatus();
                addLog('üöÄ –î–µ–º–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ', 'success');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã
                setInterval(updateStatus, 3000);
            }, 500);
        });

        // –ü–æ–∫–∞–∑–∞—Ç—å –±–∞–∑–æ–≤—É—é –ø–∞–Ω–µ–ª—å
        function showBasicPanel() {
            if (currentConsent) {
                currentConsent.destroy();
            }
            
            currentConsent = createCookieConsent(baseConfig);
            addLog('üì¶ –°–æ–∑–¥–∞–Ω–∞ –±–∞–∑–æ–≤–∞—è –ø–∞–Ω–µ–ª—å', 'info');
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—É—é –ø–∞–Ω–µ–ª—å
        function showCustomPanel() {
            if (currentConsent) {
                currentConsent.destroy();
            }
            
            const customConfig = {
                ...baseConfig,
                position: 'bottom-right',
                texts: {
                    ...baseConfig.texts,
                    title: 'üç™ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Cookie',
                    description: '–≠—Ç–æ—Ç —Å–∞–π—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç cookie –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –≤–∞—à–µ–≥–æ –æ–ø—ã—Ç–∞. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ {policyLink}',
                    policyLinkText: '–Ω–∞—à–µ–π –ø–æ–ª–∏—Ç–∏–∫–µ',
                    settingsTitle: '‚öôÔ∏è –î–µ—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏',
                    buttons: {
                        allowAll: '‚úÖ –ü—Ä–∏–Ω—è—Ç—å –≤—Å–µ',
                        allowSelected: 'üéØ –ü—Ä–∏–Ω—è—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ',
                        allowNecessary: 'üîí –¢–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ',
                        settings: '‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏'
                    }
                }
            };
            
            currentConsent = createCookieConsent(customConfig);
            addLog('üé® –°–æ–∑–¥–∞–Ω–∞ –∫–∞—Å—Ç–æ–º–Ω–∞—è –ø–∞–Ω–µ–ª—å', 'info');
            updatePositionStatus('bottom-right');
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ —Å—Ç–∏–ª—è–º–∏
        function showCustomStyles() {
            if (currentConsent) {
                currentConsent.destroy();
            }
            
            const customStyleConfig = {
                ...baseConfig,
                style: {
                    primary: '#ff6b35',          // –û—Ä–∞–Ω–∂–µ–≤—ã–π –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç
                    primaryHover: '#e55a2b',     // –¢–µ–º–Ω–µ–µ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
                    background: '#f8f9fa',       // –°–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π —Ñ–æ–Ω –ø–∞–Ω–µ–ª–∏
                    text: '#2c3e50',            // –¢–µ–º–Ω–æ-—Å–∏–Ω–∏–π —Ç–µ–∫—Å—Ç
                    textSecondary: '#6c757d',    // –°–µ—Ä—ã–π –≤—Ç–æ—Ä–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç
                    border: '#dee2e6',          // –°–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã
                    surface: '#e9ecef',         // –°–µ—Ä—ã–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏
                    radius: '12px',             // –ë–æ–ª–µ–µ –æ–∫—Ä—É–≥–ª—ã–µ —É–≥–ª—ã
                    spacing: '24px'             // –ë–æ–ª—å—à–µ –æ—Ç—Å—Ç—É–ø—ã
                },
                texts: {
                    ...baseConfig.texts,
                    title: 'üé® Custom Colors',
                    description: '–ü—Ä–∏–º–µ—Ä —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ {policyLink}.',
                    buttons: {
                        allowAll: 'üéØ Accept All',
                        allowSelected: '‚öôÔ∏è Accept Selected',
                        allowNecessary: 'üîí Essential Only',
                        settings: '‚öôÔ∏è Settings'
                    }
                }
            };
            
            currentConsent = createCookieConsent(customStyleConfig);
            addLog('üé® –°–æ–∑–¥–∞–Ω–∞ –ø–∞–Ω–µ–ª—å —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏', 'info');
            addLog('üéØ –ò–∑–º–µ–Ω–µ–Ω—ã: —Ü–≤–µ—Ç–∞, —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è, –æ—Ç—Å—Ç—É–ø—ã', 'info');
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π —Ä–µ–∂–∏–º
        function showSimpleMode() {
            if (currentConsent) {
                currentConsent.destroy();
            }
            
            const simpleConfig = {
                ...baseConfig,
                mode: 'simple',
                texts: {
                    ...baseConfig.texts,
                    title: 'üç™ Cookie',
                    simpleDescription: '–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º cookie –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è —Å–∞–π—Ç–∞. –ù–∞–∂–∏–º–∞—è "–ü—Ä–∏–Ω—è—Ç—å", –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å {policyLink}.',
                    buttons: {
                        ...baseConfig.texts.buttons,
                        accept: '–ü—Ä–∏–Ω—è—Ç—å'
                    }
                }
            };
            
            currentConsent = createCookieConsent(simpleConfig);
            addLog('‚ö° –°–æ–∑–¥–∞–Ω –ø—Ä–æ—Å—Ç–æ–π —Ä–µ–∂–∏–º (–≤—Å–µ cookie —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ä–∞–∑—É)', 'info');
            addLog('üìã –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å –≤—Ä—É—á–Ω—É—é –≤ –∫–æ–¥–µ', 'warn');
        }

        // –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é
        function changePosition(position) {
            if (currentConsent) {
                currentConsent.updateConfig({ position: position });
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∫–ª–∞—Å—Å –ø–æ–∑–∏—Ü–∏–∏
                const element = currentConsent.panelElement;
                element.className = element.className.replace(/position-\w+-?\w*/, `position-${position}`);
                
                addLog(`üìç –ü–æ–∑–∏—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞: ${position}`, 'info');
                updatePositionStatus(position);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
                document.querySelectorAll('.position-btn').forEach(btn => btn.classList.remove('active'));
                event.target.classList.add('active');
            }
        }

        // –°–±—Ä–æ—Å–∏—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ
        function resetConsent() {
            if (currentConsent) {
                currentConsent.reset();
                addLog('üîÑ –°–æ–≥–ª–∞—Å–∏–µ —Å–±—Ä–æ—à–µ–Ω–æ', 'warn');
                updateStatus();
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
        function updateStatus() {
            const moduleLoaded = !!currentConsent;
            document.getElementById('moduleStatus').textContent = moduleLoaded ? '‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω' : '‚ùå –ù–µ –∑–∞–≥—Ä—É–∂–µ–Ω';
            
            if (moduleLoaded) {
                const hasConsent = currentConsent.hasConsent();
                document.getElementById('consentStatus').textContent = hasConsent ? '‚úÖ –î–∞–Ω–æ' : '‚ùå –ù–µ –¥–∞–Ω–æ';
            }
        }

        function updatePositionStatus(position) {
            document.getElementById('positionStatus').textContent = position;
        }

        // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
        function addLog(message, type = 'info') {
            const time = new Date().toLocaleTimeString();
            logs.push({
                time: time,
                message: message,
                type: type
            });
            
            // –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 15 —Å–æ–æ–±—â–µ–Ω–∏–π
            if (logs.length > 15) {
                logs.shift();
            }
            
            updateLogsDisplay();
        }

        function updateLogsDisplay() {
            const output = document.getElementById('consoleOutput');
            output.innerHTML = logs.map(log => 
                `<div class="log-entry log-${log.type}">[${log.time}] ${log.message}</div>`
            ).join('');
            output.scrollTop = output.scrollHeight;
        }

        function clearLogs() {
            logs = [];
            document.getElementById('consoleOutput').innerHTML = 
                '<div class="log-entry log-info">[–°–∏—Å—Ç–µ–º–∞] –õ–æ–≥–∏ –æ—á–∏—â–µ–Ω—ã</div>';
        }

        // –ü–µ—Ä–µ—Ö–≤–∞—Ç console –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
        const originalConsoleWarn = console.warn;
        console.warn = function(...args) {
            originalConsoleWarn.apply(console, args);
            if (args[0] && args[0].includes('CookieConsent')) {
                addLog('‚ö†Ô∏è ' + args.join(' '), 'warn');
            }
        };

        const originalConsoleLog = console.log;
        console.log = function(...args) {
            originalConsoleLog.apply(console, args);
            if (args[0] && args[0].includes('[CookieConsent]')) {
                addLog('‚ÑπÔ∏è ' + args.join(' '), 'info');
            }
        };
    </script>
</body>
</html> 
